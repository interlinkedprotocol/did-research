version: '3.4'

services:

  geth:
    image: interlink-geth
    build:
      context: ./geth
    container_name: interlink-geth
    restart: always
    command: nohup geth --testnet --rpc --rpcapi 'eth,net,web3,personal' --rpccorsdomain '*' --rpcaddr 0.0.0.0 --rpcport 8545 --fast --bootnodes 'enode://053d2f57829e5785d10697fa6c5333e4d98cc564dbadd87805fd4fedeb09cbcb642306e3a73bd4191b27f821fb442fcf964317d6a520b29651e7dd09d1beb0ec@79.98.29.154:30303,enode://6c509b9cae1036b4514c978e1b3b4f1b718ae1349b65a681603eb2c848eed671a52fa7c99ebeaf1a2fdca568cd74ff762db7fa02a6b2b82d9fd3da27686ba937@155.4.110.100:30303,enode://9683a29b13c7190cfd63cccba4bcb62d7b710da0b1c4bff2c4b8bcf129127d7b3f591163a58449d7f66200db3c208d06b9e9a8bea69be4a72e1728a83d703063@35.226.161.198:30303'
    volumes:
      - ./blockchaindata:/data/blockchain
      - ~/.bash_history:/root/.bash_history
      - ~/.ethereum:/root/.ethereum/
    ports:
      - 8545:8545

networks:
  default:
    external:
      name: interlink
