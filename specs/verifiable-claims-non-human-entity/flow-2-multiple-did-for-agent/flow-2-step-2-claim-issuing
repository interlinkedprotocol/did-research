@startuml

title Flow #2: Multiple pseudonymous DIDs for Agent. Step #2: Claim issuing.

autonumber

WebApp -> WebApp : Encode image to base64
WebApp -> TensorFlowAgent : Request verifiable claims for encoded image
TensorFlowAgent -> TensorFlowAgent : Image => TF algorithm => Raw claims as JSON object
TensorFlowAgent -> InterlinkedProtocolAgent : Request signing key by providing Mnemonic and index
InterlinkedProtocolAgent -> InterlinkedProtocolAgent : Derive one-time wallet for Mnemonic and index
InterlinkedProtocolAgent -> TensorFlowAgent : Response with privateKey
TensorFlowAgent -> TensorFlowAgent : Increment index
TensorFlowAgent -> TensorFlowAgent : Sign raw claims with privateKey (build did-jwt)
TensorFlowAgent -> WebApp : Response with verifiable claim (did-jwt)

@enduml